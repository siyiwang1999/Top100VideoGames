---
title: "Genre of Top 100 Video Games"
author: "Siyi Wang"
date: 2021-11-09T21:13:14-05:00
categories: ["R"]
tags: ["Top 100 Video Games", "Genre"]
---

```{r setup, include=FALSE}
library(knitr)
knitr::opts_chunk$set(collapse = TRUE)
```

# Genre Visuals

The interactive graph is the genre distribution of Top 100 best-selling video games, which can help you get a preliminary overview of the major video game categories.

```{r message=F,warning=F,echo=F}
library(ggplot2)
library(plotly)
library(data.table)
library(scales)
library(RColorBrewer)

data.file<-"../vgsales.csv"
fread(data.file)->info

plot3.data<-info[order(-Global_Sales)][1:100,.(Rank,Genre,Global_Sales)]

plot31.data<-plot3.data[,.(Number=.N),Genre][order(-Number)]
plot31.data[,Genre:=ordered(Genre,Genre)]

plot31<-ggplot(plot31.data, aes(x = Genre,y = Number, fill = Genre))+
  geom_bar(stat = 'identity')+
  theme_bw() %+replace% theme(axis.text.x = element_text(angle = 45,hjust = 1,vjust = 1))+
  scale_fill_manual(values = setNames(brewer.pal(11, 'Set3'), plot31.data$Genre))+
  labs(title = 'Genre Distribution of Top 100 Video Games')+
  geom_text(aes(label = Number),vjust = 0, nudge_y = 0.6)+
  theme(plot.title = element_text(hjust = 0.5))

plot31<-ggplotly(plot31,tooltip = c('x','y'), width = 800) %>% 
  layout(title = list(text = '<b> Genre Distribution of Top 100 Video Games <b>', font = list(size = 15)))

plot31

```

<<<<<<< HEAD
Considering the number of each game genre in Top 100 video games does not directly lead to a relevant conclusion about whether that game genre is the most popular. Therefore, the interactive chart below combines the sales and sales percentages of game genres to help you get a more complete picture of the most popular video game genres. The sales percentage is calculated based on the sales of that game genre divided by the total sales of the top 100 video games.
=======
Considering the number of each game genre in Top 100 video games does not directly lead to a relevant conclusion about whether that game genre is the most popular. Therefore, the interactive chart below combines the sales and sales percentages of game genres to help you get a more complete picture of the most popular video game genres. The sales percentage is calculated based on the sales of that game genre divided by the total sales of Top 100 video games.
>>>>>>> 54af3918e127b1c3ca0c18aa8007dd3877f93f3d

```{r message=FALSE, warning=FALSE, echo=FALSE}
library(ggplot2)
library(plotly)
library(data.table)
library(scales)
library(RColorBrewer)

data.file<-"../vgsales.csv"
fread(data.file)->info

plot3.data<-info[order(-Global_Sales)][1:100,.(Rank,Genre,Global_Sales)]

plot32.data<-plot3.data[,.(Global_Sales=sum(Global_Sales)),Genre][order(-Global_Sales)]
plot32.data[,texthover:=
paste(paste0("<b>Genre</b>",": ",Genre),
paste0("<b>Sales</b>",": $",Global_Sales),
paste0("<b>% Sales</b>",": ",percent(Global_Sales/sum(Global_Sales))),
sep='<br>')]

plot32 <- plot_ly(plot32.data, labels = ~Genre, values = ~Global_Sales, text = ~texthover,
hoverinfo = 'text', textinfo = 'label',
marker = list(colors = brewer.pal(nrow(plot31.data), 'Set3')),
type = 'pie',width = 800)

plot32 <- plot32 %>% layout(title = list(text = '<b> Genre Sales of Top 100 Video Games (in millions) <b>', xref = 'paper', x = 0.5),
                            xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
                            yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
                            legend = list(orientation = "h", x = 0.5, xanchor = "center",y = -0.2)
)

plot32


```

